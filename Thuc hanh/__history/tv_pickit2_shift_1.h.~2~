#ifndef    __TV_PICKIT2_SHIFT_1_H__
#define    __TV_PICKIT2_SHIFT_1_H__

#include    <18f4550.h>
#device     adc=10
#fuses      nowdt,put,hs,noprotect,nolvp,cpudiv1
#use        delay(clock=20000000)
//#use        i2c(master,slow,sda=pin_b0,scl=pin_b1)
#use        rs232(baud=9600, xmit=pin_c6,rcv=pin_c7)
#define  soft_i2c_sda   pin_b0
#define  soft_i2c_scl   pin_b1
//nut nhan:
#DEFINE  BT0     PIN_B5
#DEFINE  BT1     PIN_B4
#DEFINE  BT2     PIN_B3
#DEFINE  BT3     PIN_B2

#DEFINE  ON      BT0       //DK LED DON, MOTOR
#DEFINE  OFF     BT1
#DEFINE  INV     BT2

#DEFINE  UP      BT0    //DK LED DON
#DEFINE  DW      BT1
#DEFINE  CLR     BT2
#DEFINE  MOD     BT3

#DEFINE  STOP    BT3

#DEFINE  ON1     BT0     
#DEFINE  OFF1    BT1
#DEFINE  ON2     BT2       
#DEFINE  OFF2    BT3

#DEFINE     TRIGGER      PIN_E2
#DEFINE     ECHO         PIN_E1

#DEFINE      ENABLE_573A      PIN_D1         //CS0 CUA A
#DEFINE      ENABLE_573B      PIN_D0         //CS1 CUA B
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
#DEFINE      SSDO             PIN_E2         //CHUNG TAT CA
#DEFINE      SSCK             PIN_E0         //CHUNG TAT CA
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
#DEFINE      RCK_4LED7DOAN    PIN_D7         //A - 4 BYTE
#DEFINE      G_4LED7DOAN      PIN_D6         //A - 4 BYTE
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX    
#DEFINE      RCK_MATRANLED    PIN_D7         //B - 3 BYTE DAO
#DEFINE      G_MATRANLED      PIN_D6         //B - 3 BYTE DAO
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
#DEFINE      RCK_32LED        PIN_D5         //A - 4 BYTE
#DEFINE      G_32LED          PIN_D4         //A - 4 BYTE
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 
#DEFINE      RCK_8LEDQUET     PIN_D5         //B - 2 BYTE DAO
#DEFINE      G_8LEDQUET       PIN_D4         //B - 2 BYTE DAO
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
#DEFINE      RCK_LCD20X4      PIN_D3         //A - 2 BYTE DAO
#DEFINE      G_LCD20X4         PIN_D2         //A - 2 BYTE DAO
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 
#DEFINE      RCK_BUZERELAY    PIN_D3     //B - 1 BYTE 
#DEFINE      G_BUZERELAY      PIN_D2         //B - 1 BYTE 
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX   
#DEFINE     CHOT_2_IC_74573_A_B  OUTPUT_D(0XFC)
UNSIGNED INT8 TIN_HIEU_DK_74573_A;
#BIT G_4A         = TIN_HIEU_DK_74573_A.6
#BIT G_32A        = TIN_HIEU_DK_74573_A.4
#BIT G_LCDA       = TIN_HIEU_DK_74573_A.2
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX         
#DEFINE     MO_32_LED_DON        G_32A=0; //OUTPUT_LOW(G_32LED) 
#DEFINE     TAT_32_LED_DON       G_32A=1; //OUTPUT_HIGH(G_32LED) 
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX         
#DEFINE     MO_4_LED_7DOAN       G_4A=0;  //OUTPUT_LOW(G_4LED7DOAN)
#DEFINE     TAT_4_LED_7DOAN      G_4A=1;  //OUTPUT_HIGH(G_4LED7DOAN)
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 
#DEFINE     MO_GLCD_LCD           G_LCDA=0;   //OUTPUT_LOW(G_LCD20X4)
#DEFINE     TAT_GLCD_LCD          G_LCDA=1;   // OUTPUT_LOW(G_LCD20X4)

UNSIGNED INT8 TIN_HIEU_DK_74573_B;  
#BIT G_MTB        = TIN_HIEU_DK_74573_B.6
#BIT G_8B         = TIN_HIEU_DK_74573_B.4
#BIT G_RBDCB      = TIN_HIEU_DK_74573_B.2
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 
#DEFINE     MO_LED_MATRAN        G_MTB=0; //OUTPUT_LOW(G_MATRANLED)
#DEFINE     TAT_LED_MATRAN       G_MTB=1; //OUTPUT_LOW(G_MATRANLED)
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX       
#DEFINE     MO_8_LED_QUET        G_8B=0;  //OUTPUT_LOW(G_8LEDQUET)
#DEFINE     TAT_8_LED_QUET       G_8B=1;  //OUTPUT_LOW(G_8LEDQUET)
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX         
#DEFINE     MO_RELAY_BUZZER_DC   G_RBDCB=0;  //OUTPUT_LOW(G_BUZERELAY)
#DEFINE     TAT_RELAY_BUZZER_DC  G_RBDCB=1;  //OUTPUT_LOW(G_BUZERELAY)
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
//KHAI BAO DU LIEU 16 BIT CHO MODULE RELAY, TRIAC, BUZZER, DONG CO
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
UNSIGNED INT16 RBDC;
#BIT STEP_MOTOR_ENABLE  = RBDC.0    //1=ENA,0=DIS
#BIT STEP_MOTOR_IN1     = RBDC.1    
#BIT STEP_MOTOR_IN2     = RBDC.2
#BIT STEP_MOTOR_IN3     = RBDC.3
#BIT STEP_MOTOR_IN4     = RBDC.4
#BIT DC_ENABLE          = RBDC.5    //1=ENA,0=DIS
#BIT PWRKEY             = RBDC.6    //KHOI TAO SIM900

#BIT BUZZER             = RBDC.8    //1=ON,0=OFF
#BIT TRIAC_1            = RBDC.9    //1=ON,0=OFF
#BIT TRIAC_2            = RBDC.10   //1=ON,0=OFF
#BIT RELAY_1            = RBDC.11   //0=ON,1=OFF
#BIT RELAY_2            = RBDC.12   //0=ON,1=OFF

//HAM 103
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
//CHUONG TRINH CON KHOI TAO IC CHOT
//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX         
#DEFINE     CHO_IC_74573_A_GOI_DU_LIEU     OUTPUT_HIGH(ENABLE_573A)
#DEFINE     CHOT_IC_74573_A_GOI_DU_LIEU    OUTPUT_LOW(ENABLE_573A)

#DEFINE     CHO_IC_74573_B_GOI_DU_LIEU     OUTPUT_HIGH(ENABLE_573B)
#DEFINE     CHOT_IC_74573_B_GOI_DU_LIEU    OUTPUT_LOW(ENABLE_573B)
VOID MO_IC_74573_A_THONG_DL();

//XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX   
CONST UNSIGNED CHAR MA7DOAN[16]= {0XC0,0XF9,0xA4,0XB0,0X99,0X92,0X82,0XF8,
0X80,0X90,0x88, 0x83, 0xC6, 0xA1, 0x86, 0x8E};
#DEFINE     MASO0    0XC0
#DEFINE     MASO1    0XF9
#DEFINE     MASO2    0XA4
#DEFINE     MASO3    0XB0
#DEFINE     MASO4    0X99
#DEFINE     MASO5    0X92
#DEFINE     MASO6    0X82
#DEFINE     MASO7    0XF8
typedef enum 
{
      OK  = 0,
      ERR = 1
}result;
#endif
